<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The BioGreen — Home</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <nav class="nav">
      <div class="brand">
        <img src="images/logo.jpg" alt="BioGreen logo" />
        <span class="brand-name">The BioGreen</span>
      </div>
      <button class="menu-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="main-menu">☰</button>
      <div class="menu" id="main-menu">
        <a class="active" href="index.html">Home</a>
        <div class="dropdown">
          <a class="dropdown-toggle">Projects</a>
          <div class="dropdown-menu">
            <a href="projects/brewery-waste.html">Grains to Greens</a>
            <a href="projects/plastic-reduction.html">Plastic Reduction</a>
          </div>
        </div>
        <a href="community.html">Community</a>
        <a href="partners.html">Global Partners</a>
        <a href="team.html">Team</a>
      </div>
    </nav>
  </header>

  <section class="hero" style="--hero-img: url('images/hero_home.jpg')">
    <div class="container">
      <span class="kicker">Welcome</span>
      <h1>Together for a Greener Tomorrow</h1>
      <p class="lead">Sustainability, innovation, and collaboration to redefine green growth.</p>
      <div class="actions">
        <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLSfyrYPMFbpblwrjf735tpshw0kfAPxARhTBlcg-CUtjKqo_Og/viewform" target="_blank">Join the Movement</a>
        <a class="btn" href="team.html">Meet the Team</a>
      </div>
    </div>
  </section>

  <main class="container">
    <section class="section" id="story">
      <h2>Our Story</h2>
      <p>We believe that science and community can work together to make sustainable change. BioGreen started as a student-led initiative at the University of Nottingham, exploring how waste from one industry could become valuable resources for another.</p>
    </section>

    <section class="section" id="mission">
      <h2>Our Mission</h2>
      <p>Our mission is to connect research, agriculture, and innovation to create sustainable cycles of growth.</p>

      <h2>Our Vision</h2>
      <p>Our vision is a student‑powered, science‑driven circular economy where local waste becomes local value — healthier soils, resilient crops, and communities learning by doing.</p>

      <h2>Our Values</h2>
      <ul>
        <li>Innovation through collaboration</li>
        <li>Science with community impact</li>
        <li>Transparency, inclusion, and education</li>
      </ul>
    </section>

    <section class="section reveal" id="news">
      <h2>Latest Updates</h2>

      <!-- BEGINNER NOTE: Copy one of these cards and update the text/image to add news -->
      <!-- News posts will appear here -->

      <div class="card-grid" id="news-grid">
        <!-- News cards will be added here dynamically -->
        
        <!-- Example news post 1 (Uncomment and edit to add news) -->
        <!--
        <div class="card news-card">
          <img src="images/blog_placeholder_01.jpg" alt="Spent grain at the allotment" />
          <h3>First Planting Day: What Worked, What Didn't</h3>
          <p class="lead">Notes from our broad bean trials and soil prep tips from volunteers.</p>
          <small>Posted on: March 15, 2025</small>
        </div>
        -->

        <!-- Example news post 2 -->
        <!--
        <div class="card news-card">
          <img src="images/blog_placeholder_02.jpg" alt="Team meeting" />
          <h3>New Team Members Join BioGreen</h3>
          <p class="lead">Welcome our new team members and learn about their roles.</p>
          <small>Posted on: February 28, 2025</small>
        </div>
        -->
      </div>

      <!-- No news message (shown when there are no news posts) -->
      <div id="no-news-message" class="no-news">
        <p class="lead">No news posts yet — check back soon.</p>
        <p>Want to share an update? <a href="mailto:thebiogreenproject@gmail.com">Email us</a>.</p>
      </div>
    </section>

    <section class="section" id="newsletter">
      <h2>Stay Connected</h2>
      <p>Sign up for occasional updates from The BioGreen team.</p>
      <form id="email-form" action="https://script.google.com/macros/s/AKfycbx09ptrhwNos4jY00GO9pOzypgyk5Ovy_Yh0mus6G9JSiFmkeSFGYJ_e9o1cbjlWcKi/exec" method="POST">
        <input type="email" name="email" placeholder="Your email address" required>
        <button type="submit" class="btn">Subscribe</button>
      </form>
      <div id="form-message" style="display:none; margin-top:10px; padding:10px; border-radius:8px;"></div>
    </section>

    <section class="section" id="join">
      <div class="btn-center">
        <a class="btn" href="https://docs.google.com/forms/d/e/1FAIpQLSfyrYPMFbpblwrjf735tpshw0kfAPxARhTBlcg-CUtjKqo_Og/viewform" target="_blank">Join the Movement</a>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container cols">
      <div>
        <strong>The BioGreen</strong>
        <p class="lead">Built by students, for sustainability.</p>
      </div>
      <div>
        <p>Contact us: <a href="mailto:thebiogreenproject@gmail.com">thebiogreenproject@gmail.com</a></p>
        <p>
          <a href="https://www.instagram.com/thebiogreenproject_uon" target="_blank">Instagram</a> •
          <a href="https://github.com/thebiogreenproject" target="_blank">GitHub</a>
        </p>
        <small>© 2025 The BioGreen</small>
      </div>
    </div>
  </footer>

  <script>
    // Enhanced menu functionality with dropdown support
    document.addEventListener('DOMContentLoaded', function () {
      const menuToggle = document.querySelector('.menu-toggle');
      const menu = document.querySelector('.menu');
      const dropdowns = document.querySelectorAll('.dropdown');

      // Mobile menu toggle
      if (menuToggle && menu) {
        menuToggle.addEventListener('click', () => {
          menu.classList.toggle('open');
          menuToggle.textContent = menu.classList.contains('open') ? '✕' : '☰';
          menuToggle.setAttribute('aria-expanded', menu.classList.contains('open'));
        });
      }

      // Dropdown functionality
      dropdowns.forEach((dropdown) => {
        const dropdownToggle = dropdown.querySelector('.dropdown-toggle');

        // Desktop: hover to open
        dropdown.addEventListener('mouseenter', () => {
          if (window.innerWidth > 860) dropdown.classList.add('open');
        });

        dropdown.addEventListener('mouseleave', () => {
          if (window.innerWidth > 860) dropdown.classList.remove('open');
        });

        // Mobile: click to toggle
        if (dropdownToggle) {
          dropdownToggle.addEventListener('click', (e) => {
            if (window.innerWidth <= 860) {
              e.preventDefault();
              dropdown.classList.toggle('open');
            }
          });
        }
      });

      // Handle email form submission
      const emailForm = document.getElementById('email-form');
      const formMessage = document.getElementById('form-message');

      if (emailForm) {
        emailForm.addEventListener('submit', function (e) {
          e.preventDefault();

          const formData = new FormData(emailForm);

          // Show loading state
          const submitBtn = emailForm.querySelector('button[type="submit"]');
          const originalText = submitBtn.textContent;
          submitBtn.textContent = 'Subscribing...';
          submitBtn.disabled = true;

          fetch(emailForm.action, {
            method: 'POST',
            body: formData,
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.result === 'success') {
                formMessage.textContent = 'Thank you for subscribing!';
                formMessage.style.backgroundColor = '#e9f8ee';
                formMessage.style.color = '#0e7c3a';
                formMessage.style.display = 'block';
                emailForm.reset();
              } else {
                throw new Error(data.error || 'Unknown error');
              }
            })
            .catch((error) => {
              formMessage.textContent =
                'Sorry, there was an error. Please try again or email us directly.';
              formMessage.style.backgroundColor = '#fef2f2';
              formMessage.style.color = '#dc2626';
              formMessage.style.display = 'block';
              console.error('Error:', error);
            })
            .finally(() => {
              submitBtn.textContent = originalText;
              submitBtn.disabled = false;
            });
        });
      }

      // Setup reveal animations
      setupRevealAnimations();
      
      // Check for news posts and hide "no news" message if posts exist
      checkForNewsPosts();
    });

    // Function to setup scroll reveal animations
    function setupRevealAnimations() {
      const reveals = document.querySelectorAll('.reveal');
      
      if (reveals.length > 0) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('show');
            }
          });
        }, {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        });

        reveals.forEach(el => observer.observe(el));
      }
    }

    // Function to check for news posts and hide "no news" message
    function checkForNewsPosts() {
      const newsCards = document.querySelectorAll('.news-card');
      const noNewsMessage = document.getElementById('no-news-message');
      const newsGrid = document.getElementById('news-grid');
      
      // Count actual visible news cards (not commented ones)
      const visibleNewsCards = Array.from(newsGrid.children).filter(card => 
        !card.classList.contains('news-card') && card.tagName !== 'SCRIPT'
      ).length;
      
      if (visibleNewsCards > 0 && noNewsMessage) {
        noNewsMessage.style.display = 'none';
      } else if (noNewsMessage) {
        noNewsMessage.style.display = 'block';
      }
    }
  </script>
</body>
</html>
